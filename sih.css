:root{
    --bg:#0b0f12; --card:#0f1517; --muted:#9bdfb5; --accent:#00ffa3;
    --panel-gap:18px;
}
*{box-sizing:border-box}
body{
    margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:var(--bg); color:#e9fff6;
}

/* LOGIN full-screen */
#loginScreen{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));
    z-index:40;
}
.loginCard{
    width:420px; background:#061017; border-radius:12px; padding:20px; border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 6px 30px rgba(0,0,0,0.7);
}
.loginCard h2{margin:0 0 8px 0; color:var(--accent)}
.loginCard p{margin:0 0 16px 0; color:#9dbfb0; font-size:14px}
.field{display:flex; flex-direction:column; gap:6px; margin-bottom:12px}
input[type="text"], input[type="password"], input[type="number"]{
    padding:10px; border-radius:8px; border:1px solid #123; background:transparent; color:#eafff4;
}
.btn{cursor:pointer; padding:10px 12px; border-radius:8px; border:none}
.btn-primary{background:linear-gradient(90deg,var(--accent),#00d4ff); color:#012; font-weight:700}
.btn-ghost{background:transparent; border:1px solid rgba(255,255,255,0.06); color:#bfffe3}

/* HEADER */
header{ display:flex; justify-content:space-between; align-items:center; padding:14px 22px; background:#071018; border-bottom:1px solid rgba(255,255,255,0.02)}
.brand{font-weight:800; color:var(--accent); font-size:20px}
.subtitle{color:#9dbfb0; font-size:13px; margin-left:8px}
.header-right{display:flex; gap:10px; align-items:center}

/* GRID LAYOUT */
.mainGrid{
    display:grid; grid-template-columns: 2fr 1fr; gap:var(--panel-gap); padding:18px; align-items:stretch; height:calc(100vh - 68px);
}

/* LEFT */
#leftPanel{ display:flex; flex-direction:column; gap:14px }
.card{ background:var(--card); border-radius:12px; padding:14px; border:1px solid rgba(255,255,255,0.02); }

/* farm inputs */
.inputs{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }
select, input[type="number"], input[type="text"]{
    background:#0f1517; color:#ecfff7; border:1px solid rgba(255,255,255,0.08); border-radius:8px; padding:8px 10px; min-width:120px;
}
option{ background:#0f1517; color:#e9fff6; } /* fix dropdown visibility */
input[type="text"].pin{ min-width:140px }

/* chat area */
#chatCard{ display:flex; flex-direction:column; flex:1; min-height:0 }
.chatWindow{ flex:1; overflow:auto; padding:12px; border-radius:10px; background:rgba(0,0,0,0.16) }
.msg { max-width:78%; padding:8px 10px; border-radius:10px; margin:8px 0; white-space:pre-line; line-height:1.35 }
.msg.user{ margin-left:auto; background:#062a1f; color:#e8fff2 }
.msg.bot{ margin-right:auto; background:#071019; color:#dfffee }

.chatControls{ display:flex; gap:8px; align-items:center; margin-top:10px }
#chatInp{ flex:1; padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:#eafff8 }

.smallBtn{ padding:8px 10px; border-radius:8px; border:none; cursor:pointer }
.btn-img{ background:var(--accent); color:#002; }
.btn-voice{ background:#ff3fcf; color:white }
.btn-send{ background:#00d4ff; color:#002; font-weight:700 }

/* RIGHT PANEL */
#rightPanel{ display:flex; flex-direction:column; gap:14px }
#chips{ display:flex; flex-direction:column; gap:8px }
.chip{ display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:rgba(0,0,0,0.12) }
.chip.on{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,255,163,0.03) }

#chartCard{ flex:1; display:flex; flex-direction:column; padding:12px; border-radius:10px; background:rgba(0,0,0,0.08) }
canvas{ width:100% !important; height:230px !important; }

#distInfo{ padding:12px; border-radius:8px; background:rgba(0,0,0,0.06) }

/* footer small note */
.muted{ color:#97cbb0; font-size:13px }

@media (max-width:980px){
    .mainGrid{ grid-template-columns: 1fr; height:auto; padding:12px }
    #rightPanel{ order:2 }
    #leftPanel{ order:1 }
    canvas{ height:200px !important }
}
